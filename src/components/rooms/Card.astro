---
import { type CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

type Props = {
  room: CollectionEntry<"rooms">;
};
const { room } = Astro.props;
const { slug, data } = room;
const { title, image, type } = data;
const currentPath = Astro.url.pathname;
const isSpanish = currentPath.startsWith("/es");
const href = isSpanish ? `/es/rooms/${slug}` : `/rooms/${slug}`;
---

<a aria-label={title} href={href} class="rounded-md overflow-hidden shadow-lg">
  <div class="relative group">
    <!-- Imagen que cubre todo el contenido -->
    <Image
      class="w-full md:min-h-80 h-auto object-cover transform transition-all duration-500 ease-in-out group-hover:scale-110"
      alt={`${title}`}
      src={image}
      quality={"low"}
      widths={[340, 540, 720, 1080]}
      sizes="(max-width: 340px) 340px, (max-width: 540px) 540px, (max-width: 720px) 720px"
      loading={"lazy"}
      transition:name={`image ${slug}`}
    />
    <!-- Contenido sobre la imagen, ubicado en la parte inferior -->
    <div
      class="absolute inset-0 flex flex-col justify-end p-4 transition-all duration-300 ease-in-out group-hover:bg-opacity-60"
    >
      <div
        class="bg-azulOcean rounded-lg flex justify-between items-center p-4 bg-opacity-20 backdrop-filter backdrop-blur-sm"
      >
        <h2 class="text-white text-xl font-semibold">
          {title}
        </h2>
        <p class="text-xl font-thin text-white">{type}</p>
      </div>
    </div>
  </div>
</a>
